"use strict";(self.webpackChunkreact_my_phonebook=self.webpackChunkreact_my_phonebook||[]).push([[216],{8216:(n,t,e)=>{e.r(t),e.d(t,{default:()=>c});var i=e(390),a=e(1750),s=e(3492),r=e(5549),d=e(4648),p=e(5545),o=e(8486),x=e(2559);const c=()=>{const[n,t]=(0,i.useState)(null),[e,c]=(0,i.useState)(null),l=(0,a.I0)(),m=(0,p.s0)(),{user:h}=(0,o.a)();(0,i.useEffect)((()=>{if(n){const t=URL.createObjectURL(n);return c(t),()=>URL.revokeObjectURL(t)}}),[n]);return(0,x.jsx)(s.W2,{children:(0,x.jsx)(s.l0,{onSubmit:async t=>{t.preventDefault();try{const e=t.target.name.value,i=t.target.oldpassword.value,a=t.target.password.value,s=((n,t,e)=>t!==e?((0,d._N)("Passwords do not match. Please change your password."),n):t)(i,a,t.target.confirmpassword.value);if(e&&await l((0,r.eu)({name:e})),s!==i&&await l((0,r.Cp)({oldPassword:i,newPassword:s})),n){const t=new FormData;t.append("avatar",n,n.name),await l((0,r.mk)(t))}s!==i&&null!==i&&m("/phonebook")}catch(e){(0,d._N)("Error change settings",e)}},children:(0,x.jsxs)(s.fk,{children:[(0,x.jsxs)(s.AG,{children:[(0,x.jsxs)(s.hs,{children:[(0,x.jsxs)(s.__,{children:["Old name",(0,x.jsx)(s.II,{type:"text",name:"oldname",value:h.name,disabled:!0})]}),(0,x.jsxs)(s.__,{children:["New name",(0,x.jsx)(s.II,{type:"text",name:"name"})]})]}),(0,x.jsxs)(s.hs,{children:[(0,x.jsxs)(s.__,{children:["Old password",(0,x.jsx)(s.II,{type:"password",name:"oldpassword"})]}),(0,x.jsxs)(s.__,{children:["New password",(0,x.jsx)(s.II,{type:"password",name:"password"})]}),(0,x.jsxs)(s.__,{children:["Confirm password",(0,x.jsx)(s.II,{type:"password",name:"confirmpassword"})]})]})]}),(0,x.jsxs)(s.AG,{children:[(0,x.jsx)(s.Ei,{src:e||h.avatarURL,alt:"user avatar"}),(0,x.jsx)(s.II,{type:"file",name:"avatar",onChange:n=>{let{target:e}=n;if(!e.files)return void(0,d._N)("Please select image");const i=e.files[0];i&&i instanceof File&&i.type.startsWith("image/")?t(i):((0,d._N)("Bad type file"),e.value="",c(h.avatarURL),t(null),e.click())}}),(0,x.jsxs)(s.KN,{children:[(0,x.jsx)(s.zx,{type:"submit",children:"Change"}),(0,x.jsx)(s.zx,{type:"button",onClick:()=>m("/phonebook"),children:"Cancel"})]})]})]})})})}},3492:(n,t,e)=>{e.d(t,{AG:()=>L,AY:()=>E,Ei:()=>U,II:()=>C,KN:()=>_,W2:()=>P,__:()=>I,cv:()=>A,fk:()=>N,hs:()=>R,l0:()=>z,tG:()=>G,zx:()=>k});var i,a,s,r,d,p,o,x,c,l,m,h,g,u,f,w,b,Z,j=e(168),y=e(8832),v=e(133);const P=y.ZP.div(i||(i=(0,j.Z)(["\n\tpadding: 0 30px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\n\t@media screen and (max-width: 767px) {\n\t\twidth: 400px;\n\t}\n\n\t@media screen and (min-width: 768px) and (max-width: 1279px) {\n\t\twidth: 768px;\n\t\tpadding: 0 60px;\n\t}\n\n\t@media screen and (min-width: 1280px) {\n\t\twidth: 1150px;\n\t\tpadding: 0 90px;\n\t}\n"]))),k=y.ZP.button(a||(a=(0,j.Z)(["\n\tborder-radius: ",";\n\tfont-size: 16px;\n\tborder: 1px solid rgba(0, 0, 0, 0.7);\n\tcursor: pointer;\n\tbox-shadow: 0px 0px 4px 2px rgba(128, 128, 128, 0.5);\n\ttransition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\tmin-width: 30px;\n\theight: 34px;\n\n\t&:hover {\n\t\tbackground-color: antiquewhite;\n\t\ttransition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\t}\n\n\t@media screen and (min-width: 768px) {\n\t\tfont-size: 20px;\n\t\tmin-width: 80px;\n\t\theight: 40px;\n\t}\n\n\t@media screen and (min-width: 1280px) {\n\t\tfont-size: 22px;\n\t}\n"])),(n=>n.theme.spacing(2))),_=y.ZP.div(s||(s=(0,j.Z)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tmargin-top: 35px;\n\tgap: 10px;\n"]))),z=(y.ZP.form(r||(r=(0,j.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tgap: 20px;\n\tpadding: 35px 15px;\n\tborder-radius: 12px;\n\tborder: 0.5px solid black;\n\tmax-width: 400px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n"]))),y.ZP.ul(d||(d=(0,j.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\tgap: 25px;\n\tpadding: 35px 15px;\n\tborder-radius: 12px;\n\tborder: 0.5px solid black;\n\tmax-width: 400px;\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tlist-style: none;\n"]))),y.ZP.span(p||(p=(0,j.Z)(["\n\tfont-weight: 700;\n\tcolor: crimson;\n"]))),y.ZP.li(o||(o=(0,j.Z)(["\n\ttext-align: justify;\n"]))),y.ZP.li(x||(x=(0,j.Z)(["\n\tfont-size: 12px;\n"]))),y.ZP.form(c||(c=(0,j.Z)(["\n\tmargin-left: auto;\n\tmargin-right: auto;\n\tpadding: 10px;\n\tborder-radius: ",";\n\tfont-size: 16px;\n\tborder: 1px solid rgba(0, 0, 0, 0.7);\n\tbox-shadow: 0px 0px 4px 2px rgba(128, 128, 128, 0.5);\n\tmin-height: 300px;\n\n\t@media screen and (min-width: 768px) {\n\t\tfont-size: 18px;\n\t\tpadding: 20px;\n\t}\n\n\t@media screen and (min-width: 1280px) {\n\t\tpadding: 50px;\n\t}\n"])),(n=>n.theme.spacing(2)))),I=y.ZP.label(l||(l=(0,j.Z)(["\n\tfont-size: 16px;\n\n\t@media screen and (min-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media screen and (min-width: 1280px) {\n\t\tfont-size: 22px;\n\t}\n"]))),C=y.ZP.input(m||(m=(0,j.Z)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 5px;\n\tborder-radius: ",";\n\tfont-size: 16px;\n\tborder: 1px solid rgba(0, 0, 0, 0.7);\n\tcursor: pointer;\n\tmargin-top: 5px;\n\twidth: 100%;\n\n\t@media screen and (min-width: 768px) {\n\t\tfont-size: 18px;\n\t}\n\n\t@media screen and (min-width: 1280px) {\n\t\tfont-size: 22px;\n\t}\n"])),(n=>n.theme.spacing(1))),N=y.ZP.div(h||(h=(0,j.Z)(["\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tflex-direction: column;\n\tgap: 30px;\n\n\t@media screen and (min-width: 768px) {\n\t\tflex-direction: row;\n\t}\n"]))),L=y.ZP.div(g||(g=(0,j.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 12px;\n"]))),R=y.ZP.div(u||(u=(0,j.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-between;\n\tgap: 4px;\n\tborder: 1px solid darkslateblue;\n\tborder-radius: ",";\n\tpadding: ",";\n"])),(n=>n.theme.spacing(3)),(n=>n.theme.spacing(3))),U=y.ZP.img(f||(f=(0,j.Z)(["\n\twidth: 180px;\n\theight: 180px;\n\tobject-fit: cover;\n\tborder-radius: 50%;\n\n\t@media screen and (min-width: 768px) {\n\t\twidth: 250px;\n\t\theight: 250px;\n\t\tmargin-top: 0;\n\t}\n"]))),A=y.ZP.h1(w||(w=(0,j.Z)(["\n\ttext-align: center;\n\tmargin-top: 70px;\n"]))),E=(0,y.ZP)(v.Z)(b||(b=(0,j.Z)(["\n\tdisplay: flex;\n\tjustify-content: center;\n"]))),G=(0,y.ZP)(v.Z)(Z||(Z=(0,j.Z)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tpadding-top: 60px;\n"])))}}]);
//# sourceMappingURL=216.e1b46d14.chunk.js.map